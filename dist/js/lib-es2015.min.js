!function(){!function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof _require&&_require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof _require&&_require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){!function(){"use strict";function e(){this.events={}}e.prototype.on=function(e,t,n){return this.events[e]||(this.events[e]=[]),n&&(t._E_ctx=n),this.events[e].push(t),this},e.prototype.once=function(e,t,n){return t._E_once=!0,this.on(e,t,n)},e.prototype.emit=function(e,t,n,r,o){var a,i,u,s;if(!this.events[e])return!1;u=Array.prototype.slice.call(arguments,1),s=u.length,i=this.events[e];for(var c=0,l=i.length;c<l;c++)switch(a=i[c],a._E_once&&this.off(e,a),s){case 0:a.call(a._E_ctx);break;case 1:a.call(a._E_ctx,t);break;case 2:a.call(a._E_ctx,t,n);break;case 3:a.call(a._E_ctx,t,n,r);break;case 4:a.call(a._E_ctx,t,n,r,o);break;default:a.apply(a._E_ctx,u)}return!0},e.prototype.off=function(e,t){if(!this.events[e])return this;for(var n=0,r=this.events[e].length;n<r;n++)this.events[e][n]===t&&(this.events[e][n]=null,delete this.events[e][n]);return this.events[e]=this.events[e].filter(function(e){return"undefined"!=typeof e}),this},e.prototype.listeners=function(e){var t,n;if(e)return this.events[e]||[];t=this.events,n=[];for(var r in t)n=n.concat(t[r].valueOf());return n},"undefined"!=typeof t&&t.exports?t.exports=e:window.Evemit=e}()},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("evemit"),s=r(u),c=e("./KeyStrokeLib.js"),l=new s["default"],f={},v=function(){function e(){a(this,e)}return i(e,null,[{key:"assignXjs",value:function(e){if(f=e,!f&&!f.hasOwnProperty("Dll"))return new Error("Invalid xjs object parameter")}},{key:"initWithXjsDllHook",value:function(t){if(f=t,!f||!f.hasOwnProperty("Dll"))return new Error("Invalid xjs object parameter");var n=f.Dll;n.load(["Scriptdlls\\SplitMediaLabs\\XjsEx.dll"]),n.on("access-granted",function(){e.assignHookOnAccessGranted()}),n.on("access-revoked",function(){e.removeHookOnRevoke()}),n.isAccessGranted().then(function(t){t?e.assignHookOnAccessGranted():e.removeHookOnRevoke()})}},{key:"assignHookOnAccessGranted",value:function(){window.OnDllOnInputHookEvent=e.readHookEvent.bind(f.Dll),f.Dll.callEx("xsplit.HookSubscribe").then(function(){})["catch"](function(e){console.error(e.message)})}},{key:"removeHookOnRevoke",value:function(){window.OnDllOnInputHookEvent=function(){}}},{key:"readHookEvent",value:function(t,n,r){var o=c.KeyStrokeLib.hookMessageType(),a=c.KeyStrokeLib.mouseMap();switch(parseInt(t,10)){case o.WM_KEYDOWN:case o.WM_SYSKEYDOWN:e.handleKeydown(n,r);break;case o.WM_KEYUP:case o.WM_SYSKEYUP:e.handleKeyup(n,r);break;case o.WM_LBUTTONUP:e.handleMouseUp(a.left);break;case o.WM_RBUTTONUP:e.handleMouseUp(a.right);break;case o.WM_MBUTTONUP:e.handleMouseUp(a.middle);break;case o.WM_MOUSEWHEEL:case o.WM_MOUSEHWHEEL:e.handleMouseScroll(a.wheel)}}},{key:"handleMouseScroll",value:function(t){e.processMouseEvent(t)}},{key:"handleMouseUp",value:function(t){e.processMouseEvent(t)}},{key:"processMouseEvent",value:function(t){var n=e.detectCombinedKeys();n.event=n.event+n.sep+t,n.event&&""!==n.event&&l.emit(n.event,n.event)}},{key:"handleKeydown",value:function(e,t){c.KeyStrokeLib.combinedKeyPressed().hasOwnProperty(e)&&(c.KeyStrokeLib.combinedKeyPressed()[e].active=!0)}},{key:"handleKeyup",value:function(t,n){c.KeyStrokeLib.combinedKeyPressed().hasOwnProperty(t)&&(c.KeyStrokeLib.combinedKeyPressed()[t].active=!1),c.KeyStrokeLib.wParamMap().hasOwnProperty(t)&&e.processKeyEvent(t,n)}},{key:"detectCombinedKeys",value:function(){var e=new Map,t="";for(var n in c.KeyStrokeLib.combinedKeyPressed())c.KeyStrokeLib.combinedKeyPressed().hasOwnProperty(n)&&c.KeyStrokeLib.combinedKeyPressed()[n].active&&e.set(c.KeyStrokeLib.combinedKeyPressed()[n].value,n);var r=new Map([].concat(o(e.entries())).sort()),a="";return r.forEach(function(e,n,r){t=t+a+n,a="+"}),{event:t,sep:a}}},{key:"processKeyEvent",value:function(t,n){var r=e.detectCombinedKeys(),o=c.KeyStrokeLib.wParamMap();r.event=r.event+r.sep+o[t],r.event&&""!==r.event&&l.emit(r.event,r.event)}},{key:"on",value:function(e,t){e&&""!==e&&"None"!==e&&l.on(e,t)}},{key:"off",value:function(e,t){e&&""!==e&&"None"!==e&&l.off(e,t)}}]),e}();n["default"]=v},{"./KeyStrokeLib.js":3,evemit:1}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={8:"Backspace",9:"Tab",12:"Num5",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrtScr",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"LCommand",92:"RCommand",93:"Menu",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"Backslash",221:"]",222:"Quote"},i={0:"MOUSE LEFT",left:"MOUSE LEFT",1:"MOUSE MIDDLE",middle:"MOUSE MIDDLE",2:"MOUSE RIGHT",right:"MOUSE RIGHT",wheel:"MOUSE WHEEL"},u={WM_KEYDOWN:256,WM_KEYUP:257,WM_SYSKEYDOWN:260,WM_SYSKEYUP:261,WM_LBUTTONDOWN:513,WM_LBUTTONUP:514,WM_MOUSEMOVE:512,WM_MOUSEWHEEL:522,WM_MOUSEHWHEEL:526,WM_RBUTTONDOWN:516,WM_RBUTTONUP:517,WM_MBUTTONDOWN:519,WM_MBUTTONUP:520},s={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",106:"*",110:".",111:"/",144:"NumLock",145:"ScrollLock"},c={16:"Shift",160:"Shift",161:"Shift",17:"Ctrl",162:"Ctrl",163:"Ctrl",18:"Alt",164:"Alt",165:"Alt",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",107:"+",109:"-",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"},l={160:{active:!1,value:"Shift"},161:{active:!1,value:"Shift"},162:{active:!1,value:"Ctrl"},163:{active:!1,value:"Ctrl"},164:{active:!1,value:"Alt"},165:{active:!1,value:"Alt"},16:{active:!1,value:"Shift"},17:{active:!1,value:"Ctrl"},18:{active:!1,value:"Alt"}};n.KeyStrokeLib=function(){function e(){r(this,e)}return o(e,null,[{key:"combinedKeyPressed",value:function(){return l}},{key:"wParamMap",value:function(){return a}},{key:"hookMessageType",value:function(){return u}},{key:"restrictedSpecialKeys",value:function(){return s}},{key:"specialKeys",value:function(){return c}},{key:"mouseMap",value:function(){return i}}]),e}()},{}]},{},[2]),module.exports=_require("KeyStrokeHandler")}();